(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{6102:function(e,t,s){Promise.resolve().then(s.bind(s,6911))},6911:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return v}});var a=s(7437),l=s(2265),r=s(4829),d=s(1981),i=s(2549),n=s(2457),c=s(4135),o=s(3088),x=s(4280),m=s(998),h=s(5790),b=s(4522),p=s(6141),g=s(2245),u=s(1827),f=s(1691),N=s(2442),j=s(6224),w=s(2167),y=s(5251);let k=s(2601).env.NEXT_PUBLIC_API_URL||"http://localhost:8000";function v(){let[e,t]=(0,l.useState)([]),[s,v]=(0,l.useState)({}),[S,E]=(0,l.useState)({}),[T,L]=(0,l.useState)("ALL"),[_,I]=(0,l.useState)("ALL"),[C,R]=(0,l.useState)(!0),[Z,A]=(0,l.useState)(!1),[O,Y]=(0,l.useState)("checking..."),[H,P]=(0,l.useState)(""),[D,B]=(0,l.useState)("ALL"),[U,X]=(0,l.useState)("timestamp"),[F,M]=(0,l.useState)("desc"),[G,z]=(0,l.useState)(new Set),[J,$]=(0,l.useState)(!1),[W,q]=(0,l.useState)(null),[K,Q]=(0,l.useState)(null),[V,ee]=(0,l.useState)(!1);(0,l.useEffect)(()=>{et();let e=setInterval(et,5e3);return()=>clearInterval(e)},[T,_]),(0,l.useEffect)(()=>{try{let e=localStorage.getItem("watchlist");e&&z(new Set(JSON.parse(e)))}catch(e){}},[]),(0,l.useEffect)(()=>{try{localStorage.setItem("watchlist",JSON.stringify(Array.from(G)))}catch(e){}},[G]),(0,l.useEffect)(()=>{try{let e=localStorage.getItem("darkMode"),t=window.matchMedia("(prefers-color-scheme: dark)").matches,s=e?"true"===e:t;$(s),s&&document.documentElement.classList.add("dark")}catch(e){}},[]),(0,l.useEffect)(()=>{try{localStorage.setItem("darkMode",String(J)),J?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")}catch(e){}},[J]);let et=async()=>{try{let[e,s,a,l]=await Promise.all([r.Z.get("".concat(k,"/api/signals"),{params:{market:"ALL"!==T?T:void 0,system:"ALL"!==_?_:void 0,limit:50}}),r.Z.get("".concat(k,"/api/signals/stats")),r.Z.get("".concat(k,"/api/markets")),r.Z.get("".concat(k,"/health"))]);t(e.data.signals||[]),v(s.data.stats||{}),E(a.data.markets||{}),Y(l.data.scanner||"offline"),R(!1),A(!1),q(null)}catch(e){console.error("Error fetching data:",e),q(r.Z.isAxiosError(e)?"Network error - Unable to connect to API":"An unexpected error occurred"),R(!1),A(!1)}},es=async()=>{A(!0),await et()},ea=e=>{z(t=>{let s=new Set(t);return s.has(e)?s.delete(e):s.add(e),s})},el=e=>{let t="".concat(e.symbol," - ").concat(e.signal_type," @ $").concat(e.price.toFixed(6)," - ").concat(e.system);navigator.clipboard.writeText(t),Q(e.id),setTimeout(()=>Q(null),2e3)},er=(()=>{let t=e.slice();"ENTRY"===D?t=t.filter(e=>e.signal_type.includes("ENTRY")):"EXIT"===D&&(t=t.filter(e=>e.signal_type.includes("EXIT")));let s=H.trim().toLowerCase();return s&&(t=t.filter(e=>e.symbol.toLowerCase().includes(s))),t.sort((e,t)=>{let s=0;return s="timestamp"===U?new Date(e.timestamp).getTime()-new Date(t.timestamp).getTime():"symbol"===U?e.symbol.localeCompare(t.symbol):(e.price||0)-(t.price||0),"asc"===F?s:-s}),G.size>0&&t.sort((e,t)=>{let s=G.has(e.symbol)?0:1,a=G.has(t.symbol)?0:1;return s!==a?s-a:0}),t})(),ed=(()=>{let t=e.length,s=e.filter(e=>e.signal_type.includes("ENTRY")).length;return{total:t,entries:s,exits:e.filter(e=>e.signal_type.includes("EXIT")).length,longEntries:e.filter(e=>e.signal_type.includes("LONG_ENTRY")).length,shortEntries:e.filter(e=>e.signal_type.includes("SHORT_ENTRY")).length}})(),ei=e=>e.includes("LONG_ENTRY")?"bg-emerald-500 text-white":e.includes("SHORT_ENTRY")?"bg-rose-500 text-white":e.includes("LONG_EXIT")?"bg-amber-500 text-white":e.includes("SHORT_EXIT")?"bg-sky-500 text-white":"bg-gray-500 text-white",en=e=>e.includes("HYBRID")?(0,a.jsx)("span",{className:"px-2 py-0.5 text-xs font-bold rounded bg-gradient-to-r from-orange-500 to-amber-500 text-white shadow-sm",children:"HYBRID"}):e.includes("ELLIOTT")?(0,a.jsx)("span",{className:"px-2 py-0.5 text-xs font-bold rounded bg-gradient-to-r from-blue-500 to-cyan-500 text-white shadow-sm",children:"ELLIOTT"}):null,ec=e=>(0,a.jsx)("span",{className:"px-2 py-0.5 text-xs font-bold rounded ".concat({CRYPTO:"bg-gradient-to-r from-purple-500 to-pink-500",BIST:"bg-gradient-to-r from-red-500 to-orange-500",US:"bg-gradient-to-r from-blue-600 to-indigo-600"}[e]||"bg-gray-500"," text-white shadow-sm"),children:e});return(0,a.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-blue-50 to-slate-100 dark:from-slate-950 dark:via-slate-900 dark:to-slate-950",children:[(0,a.jsx)(w.M,{children:W&&(0,a.jsx)(y.E.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"bg-gradient-to-r from-red-500 to-rose-600 border-b border-red-600 px-4 py-3 shadow-lg",children:(0,a.jsxs)("div",{className:"max-w-7xl mx-auto flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(d.Z,{className:"w-5 h-5 text-white"}),(0,a.jsx)("span",{className:"text-sm font-medium text-white",children:W})]}),(0,a.jsx)("button",{onClick:()=>q(null),className:"text-white hover:text-red-100 transition-colors","aria-label":"Dismiss error",children:(0,a.jsx)(i.Z,{className:"w-4 h-4"})})]})})}),(0,a.jsx)("header",{className:"bg-gradient-to-r from-slate-800 via-slate-700 to-slate-800 dark:from-slate-900 dark:via-slate-800 dark:to-slate-900 border-b border-slate-600 dark:border-slate-700 shadow-xl",children:(0,a.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,a.jsx)("div",{className:"p-2.5 bg-gradient-to-br from-blue-500 to-cyan-500 rounded-xl shadow-lg",children:(0,a.jsx)(n.Z,{className:"w-7 h-7 text-white"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"text-2xl font-bold bg-gradient-to-r from-white to-blue-100 bg-clip-text text-transparent",children:"SIGNAL ▶ START"}),(0,a.jsx)("p",{className:"text-xs text-slate-300",children:"Professional Trading Signals"})]})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,a.jsx)("button",{onClick:()=>$(!J),className:"p-2 rounded-lg bg-slate-700/50 hover:bg-slate-600/50 transition-colors border border-slate-600","aria-label":"Toggle dark mode",children:J?(0,a.jsx)(c.Z,{className:"w-5 h-5 text-amber-400"}):(0,a.jsx)(o.Z,{className:"w-5 h-5 text-slate-300"})}),(0,a.jsxs)("div",{className:"flex items-center space-x-2 px-3 py-1.5 rounded-lg border ".concat("online"===O?"bg-emerald-500/20 border-emerald-500/50":"bg-rose-500/20 border-rose-500/50"),children:[(0,a.jsx)("div",{className:"w-2 h-2 rounded-full ".concat("online"===O?"bg-emerald-400 animate-pulse shadow-lg shadow-emerald-500/50":"bg-rose-400")}),(0,a.jsx)("span",{className:"text-xs font-bold ".concat("online"===O?"text-emerald-300":"text-rose-300"),children:O.toUpperCase()})]}),(0,a.jsxs)("button",{onClick:es,disabled:Z,className:"flex items-center space-x-2 px-4 py-2 bg-gradient-to-r from-blue-600 to-cyan-600 text-white rounded-lg hover:from-blue-700 hover:to-cyan-700 disabled:opacity-50 disabled:cursor-not-allowed transition-all shadow-lg font-medium text-sm",children:[(0,a.jsx)(x.Z,{className:"w-4 h-4 ".concat(Z?"animate-spin":"")}),(0,a.jsx)("span",{children:"Refresh"})]})]})]})})}),(0,a.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:[(0,a.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-4 mb-6",children:[(0,a.jsxs)(y.E.div,{whileHover:{scale:1.02},className:"bg-white dark:bg-slate-800 rounded-xl p-4 shadow-lg border border-slate-200 dark:border-slate-700",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,a.jsx)("span",{className:"text-xs font-semibold text-slate-500 dark:text-slate-400 uppercase",children:"Total Signals"}),(0,a.jsx)(m.Z,{className:"w-4 h-4 text-blue-500"})]}),(0,a.jsx)("div",{className:"text-2xl font-bold text-slate-900 dark:text-white",children:ed.total}),(0,a.jsx)("div",{className:"text-xs text-slate-500 dark:text-slate-400 mt-1",children:"Last 24h"})]}),(0,a.jsxs)(y.E.div,{whileHover:{scale:1.02},className:"bg-gradient-to-br from-emerald-500 to-green-600 rounded-xl p-4 shadow-lg",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,a.jsx)("span",{className:"text-xs font-bold text-emerald-100 uppercase",children:"Long Entries"}),(0,a.jsx)(h.Z,{className:"w-4 h-4 text-white"})]}),(0,a.jsx)("div",{className:"text-2xl font-bold text-white",children:ed.longEntries}),(0,a.jsx)("div",{className:"text-xs text-emerald-100 mt-1",children:"Buy Signals"})]}),(0,a.jsxs)(y.E.div,{whileHover:{scale:1.02},className:"bg-gradient-to-br from-rose-500 to-red-600 rounded-xl p-4 shadow-lg",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,a.jsx)("span",{className:"text-xs font-bold text-rose-100 uppercase",children:"Short Entries"}),(0,a.jsx)(b.Z,{className:"w-4 h-4 text-white"})]}),(0,a.jsx)("div",{className:"text-2xl font-bold text-white",children:ed.shortEntries}),(0,a.jsx)("div",{className:"text-xs text-rose-100 mt-1",children:"Sell Signals"})]}),(0,a.jsxs)(y.E.div,{whileHover:{scale:1.02},className:"bg-gradient-to-br from-amber-500 to-orange-600 rounded-xl p-4 shadow-lg",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,a.jsx)("span",{className:"text-xs font-bold text-amber-100 uppercase",children:"Exits"}),(0,a.jsx)(p.Z,{className:"w-4 h-4 text-white"})]}),(0,a.jsx)("div",{className:"text-2xl font-bold text-white",children:ed.exits}),(0,a.jsx)("div",{className:"text-xs text-amber-100 mt-1",children:"Close Signals"})]}),(0,a.jsxs)(y.E.div,{whileHover:{scale:1.02},className:"bg-gradient-to-br from-purple-500 to-pink-600 rounded-xl p-4 shadow-lg",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,a.jsx)("span",{className:"text-xs font-bold text-purple-100 uppercase",children:"Watchlist"}),(0,a.jsx)(g.Z,{className:"w-4 h-4 text-white"})]}),(0,a.jsx)("div",{className:"text-2xl font-bold text-white",children:G.size}),(0,a.jsx)("div",{className:"text-xs text-purple-100 mt-1",children:"Favorites"})]})]}),(0,a.jsx)("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-lg border border-slate-200 dark:border-slate-700 p-4 mb-6",children:(0,a.jsxs)("div",{className:"flex flex-col lg:flex-row gap-4",children:[(0,a.jsx)("div",{className:"flex-1",children:(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)("input",{value:H,onChange:e=>P(e.target.value),placeholder:"Search signals...",className:"w-full pl-10 pr-4 py-2.5 rounded-lg border-2 border-slate-200 dark:border-slate-600 bg-slate-50 dark:bg-slate-900 text-slate-900 dark:text-slate-100 text-sm font-medium outline-none focus:border-blue-500 dark:focus:border-blue-400 transition-colors"}),(0,a.jsx)(u.Z,{className:"w-5 h-5 text-slate-400 absolute left-3 top-2.5"})]})}),(0,a.jsx)("div",{className:"flex items-center gap-2 flex-wrap",children:["ALL","CRYPTO","BIST","US"].map(e=>(0,a.jsx)("button",{onClick:()=>L(e),className:"px-4 py-2 rounded-lg text-xs font-bold transition-all ".concat(T===e?"bg-gradient-to-r from-blue-600 to-cyan-600 text-white shadow-lg scale-105":"bg-slate-100 dark:bg-slate-700 text-slate-700 dark:text-slate-300 hover:bg-slate-200 dark:hover:bg-slate-600"),children:e},e))}),(0,a.jsx)("div",{className:"flex items-center gap-2",children:["ALL","HYBRID","ELLIOTT"].map(e=>(0,a.jsx)("button",{onClick:()=>I(e),className:"px-4 py-2 rounded-lg text-xs font-bold transition-all ".concat(_===e?"bg-gradient-to-r from-orange-500 to-amber-500 text-white shadow-lg":"bg-slate-100 dark:bg-slate-700 text-slate-700 dark:text-slate-300 hover:bg-slate-200 dark:hover:bg-slate-600"),children:e},e))}),(0,a.jsx)("div",{className:"flex items-center gap-2",children:["ALL","ENTRY","EXIT"].map(e=>(0,a.jsx)("button",{onClick:()=>B(e),className:"px-3 py-2 rounded-lg text-xs font-bold transition-all ".concat(D===e?"bg-slate-900 dark:bg-slate-100 text-white dark:text-slate-900 shadow-lg":"bg-slate-100 dark:bg-slate-700 text-slate-600 dark:text-slate-400 hover:bg-slate-200 dark:hover:bg-slate-600"),children:e},e))})]})}),(0,a.jsxs)("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-xl border border-slate-200 dark:border-slate-700 overflow-hidden",children:[(0,a.jsx)("div",{className:"bg-gradient-to-r from-slate-50 to-blue-50 dark:from-slate-900 dark:to-slate-800 px-6 py-4 border-b border-slate-200 dark:border-slate-700",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h2",{className:"text-lg font-bold text-slate-900 dark:text-white uppercase tracking-wide",children:"Trading Signals"}),(0,a.jsx)("p",{className:"text-xs text-slate-500 dark:text-slate-400 mt-0.5",children:"Real-time market opportunities"})]}),(0,a.jsx)("div",{className:"flex items-center gap-3",children:(0,a.jsxs)("span",{className:"text-sm font-semibold text-slate-600 dark:text-slate-400",children:["Showing ",(0,a.jsx)("span",{className:"text-blue-600 dark:text-blue-400 font-bold",children:er.length})," signals"]})})]})}),C?(0,a.jsx)("div",{className:"flex items-center justify-center py-20",children:(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)("div",{className:"animate-spin rounded-full h-16 w-16 border-4 border-slate-200 dark:border-slate-700"}),(0,a.jsx)("div",{className:"animate-spin rounded-full h-16 w-16 border-4 border-t-blue-600 border-r-transparent border-b-transparent border-l-transparent absolute top-0 left-0"})]})}):0===er.length?(0,a.jsxs)("div",{className:"text-center py-20",children:[(0,a.jsx)(m.Z,{className:"w-16 h-16 text-slate-300 dark:text-slate-600 mx-auto mb-4"}),(0,a.jsx)("p",{className:"text-lg font-semibold text-slate-600 dark:text-slate-400",children:"No signals found"}),(0,a.jsx)("p",{className:"text-sm text-slate-500 dark:text-slate-500 mt-2",children:"Try adjusting your filters"})]}):(0,a.jsx)("div",{className:"overflow-x-auto",children:(0,a.jsxs)("table",{className:"w-full",children:[(0,a.jsx)("thead",{className:"bg-slate-100 dark:bg-slate-900 border-b-2 border-slate-200 dark:border-slate-700",children:(0,a.jsxs)("tr",{children:[(0,a.jsx)("th",{className:"text-left px-4 py-3 text-xs font-bold text-slate-600 dark:text-slate-400 uppercase tracking-wider w-12",children:"Rank"}),(0,a.jsx)("th",{className:"text-left px-4 py-3 text-xs font-bold text-slate-600 dark:text-slate-400 uppercase tracking-wider",children:"Symbol"}),(0,a.jsx)("th",{className:"text-left px-4 py-3 text-xs font-bold text-slate-600 dark:text-slate-400 uppercase tracking-wider",children:"Signal"}),(0,a.jsx)("th",{className:"text-left px-4 py-3 text-xs font-bold text-slate-600 dark:text-slate-400 uppercase tracking-wider",children:"System"}),(0,a.jsx)("th",{className:"text-left px-4 py-3 text-xs font-bold text-slate-600 dark:text-slate-400 uppercase tracking-wider",children:"Market"}),(0,a.jsx)("th",{className:"text-right px-4 py-3 text-xs font-bold text-slate-600 dark:text-slate-400 uppercase tracking-wider",children:"Price"}),(0,a.jsx)("th",{className:"text-left px-4 py-3 text-xs font-bold text-slate-600 dark:text-slate-400 uppercase tracking-wider",children:"Time"}),(0,a.jsx)("th",{className:"text-center px-4 py-3 text-xs font-bold text-slate-600 dark:text-slate-400 uppercase tracking-wider w-24",children:"Action"})]})}),(0,a.jsx)("tbody",{className:"divide-y divide-slate-100 dark:divide-slate-700",children:er.map((e,t)=>{let s=G.has(e.symbol),l=e.system.split("_")[1]||"CRYPTO";return(0,a.jsxs)(y.E.tr,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.02*t},className:"hover:bg-slate-50 dark:hover:bg-slate-700/50 transition-colors ".concat(s?"bg-amber-50 dark:bg-amber-900/10":""),children:[(0,a.jsx)("td",{className:"px-4 py-4",children:(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("span",{className:"text-sm font-bold text-slate-400 dark:text-slate-500",children:t+1}),(0,a.jsx)("button",{onClick:()=>ea(e.symbol),className:"hover:scale-110 transition-transform","aria-label":"Toggle watchlist",children:s?(0,a.jsx)(g.Z,{className:"w-4 h-4 text-amber-500 fill-amber-500"}):(0,a.jsx)(f.Z,{className:"w-4 h-4 text-slate-300 dark:text-slate-600"})})]})}),(0,a.jsx)("td",{className:"px-4 py-4",children:(0,a.jsx)("span",{className:"text-sm font-bold text-slate-900 dark:text-white",children:e.symbol})}),(0,a.jsx)("td",{className:"px-4 py-4",children:(0,a.jsx)("span",{className:"inline-flex px-3 py-1 rounded-full text-xs font-bold ".concat(ei(e.signal_type)," shadow-sm"),children:e.signal_type.replace("_"," ")})}),(0,a.jsx)("td",{className:"px-4 py-4",children:en(e.system)}),(0,a.jsx)("td",{className:"px-4 py-4",children:ec(l)}),(0,a.jsx)("td",{className:"px-4 py-4 text-right",children:(0,a.jsxs)("span",{className:"text-sm font-bold text-slate-900 dark:text-white",children:["$",e.price.toFixed(6)]})}),(0,a.jsx)("td",{className:"px-4 py-4",children:(0,a.jsx)("span",{className:"text-xs text-slate-500 dark:text-slate-400",children:new Date(e.timestamp).toLocaleString("en-US",{month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})})}),(0,a.jsx)("td",{className:"px-4 py-4 text-center",children:(0,a.jsx)("button",{onClick:()=>el(e),className:"inline-flex items-center gap-1 px-3 py-1.5 bg-emerald-500 hover:bg-emerald-600 text-white rounded-lg text-xs font-bold transition-colors shadow-sm",children:K===e.id?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(N.Z,{className:"w-3 h-3"}),(0,a.jsx)("span",{children:"Copied"})]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(j.Z,{className:"w-3 h-3"}),(0,a.jsx)("span",{children:"Copy"})]})})})]},e.id)})})]})})]}),(0,a.jsx)("div",{className:"mt-6 text-center",children:(0,a.jsxs)("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:["Auto-refreshing every 5 seconds • Last update: ",new Date().toLocaleTimeString()]})})]})]})}}},function(e){e.O(0,[907,971,938,744],function(){return e(e.s=6102)}),_N_E=e.O()}]);